<h1>Add Todo</h1>

<div class="container-mid">
<%= form_with model: @todo, local: true do |f| %>
    <div class="field">
        <div class="todo">
            <%= f.label :content, "何をしたい？" %></br>
            <span><%= f.text_field :content, style: "width:60vh", placeholder:"TVで見た幻のプリンを食べる" %></span>
        </div>

        <div class="spot">
            <%= f.label :name, "どこで？" %></br>
            <div style="display:inline-flex">
                <span><%= f.text_field :name, style: "width:52vh", placeholder:"○×カフェ", id:"spot_name" %></span>
                <input type="button" value="住所検索" class="search" onclick="getAddress()">
            </div>
        </div>
        <div>
            <%= f.hidden_field :address, value: "住所", id: "spot_address" %>
        </div>
        <div>
            <%= f.hidden_field :latitude, value: "緯度", id:"spot_lat" %>
            <%= f.hidden_field :longitude, value: "経度", id:"spot_lon"%>
            <%= f.hidden_field :current_user_id, value: current_user.id %>
        </div>
        <%= render 'todos/map' %>
    <%= f.submit "追加", class:"create" %>
<% end %>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=<%= Rails.application.credentials.dig(:googlemap, :api_key) %>&libraries=places&callback=initMap">
</script>

<style>

span input {
  display: block;
  border:1px #D4DEDD solid;
  padding: 0.5em 0.5em;
  border-radius: 10px;
  color: #5C6060;
  height: 5vh;
}

.search{
    margin-left: 10px;
    width:70px;
    height :5vh;
    padding: 0.5em 0.1em;
    border:1px #D4DEDD solid;
    border-radius: 10px;
}

.container-mid{
    display: flex;
    justify-content: center;
    align-items: center;
}

.todo,.spot{
    margin-top: 2vh;
    margin-bottom: 2vh;
}

.create{
    display: block;
    border-radius: 100vh;
    margin: 0 auto;
    height: 7vh;
    width: 20vh;
    background-color: #F2C67F;
    border:none;
    color: white;
    font-size: 16px;
}
</style>