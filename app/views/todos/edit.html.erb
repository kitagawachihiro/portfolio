<div class="title">
    <h1><%= t 'todos.edit.title' %></h1>
</div>

<div class="container-mid">
    <%= form_with model:@todo, local: true do |f| %>
            <div class="todo">
                <%= f.label :content, t('.what')  %></br>
                <span><%= f.text_field :content,value: @todo.content, placeholder:"TVで見た幻のプリンを食べる", id:"todo_content" %></span>
            </div>

            <div class="spot">
                <%= f.label :name, t('.where') %></br>
                <p style="color:orange">※場所を入力後、必ず「検索」ボタンを押してmapで確認してください。</p>
                <div style="display:inline-flex">
                    <span><%= f.text_field :name, value: @todo.spot.name, placeholder:"○×カフェ", id:"spot_name" %></span>
                    <input type="button" value=<%= t('.search') %> class="search" onclick="getAddress()">
                </div>
            </div>
            <div>
                <%= f.hidden_field :address, value: @todo.spot.address, id: "spot_address" %>
            </div>
            <div>
                <%= f.hidden_field :latitude, value: @todo.spot.latitude, id:"spot_lat" %>
                <%= f.hidden_field :longitude, value: @todo.spot.longitude, id:"spot_lon"%>
                <%= f.hidden_field :current_user_id, value: current_user.id %>
            </div>
            <%= render 'todos/map' %>
        <%= f.submit t('.update'), class:"submit_btn" %>
    <% end %>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=<%= Rails.application.credentials.dig(:googlemap, :api_key) %>&libraries=places&callback=initMap">
</script>

<style>
.title{
  position: relative;
  height: 100px;
  max-width:100vw;
    }

h1{
  position: absolute; 
  display: inline-block; 
  bottom: 0;
}

span input {
  display: block;
  border:1px #D4DEDD solid;
  padding: 0.5em 0.5em;
  border-radius: 10px;
  color: #5C6060;
  height: 50px;
  margin: 0 auto;
}

.search{
    margin-left: 5px;
    width: 50px;
    height:50px;
    padding: 0.5em 0.1em;
    border:1px #D4DEDD solid;
    border-radius: 10px;
}
.todo,.spot{
    padding-top: 10px;
    padding-bottom: 10px;
    width: 34vw;
    min-width: 450px;
    margin: 0 auto;
}

.create{
    display: block;
    border-radius: 100vh;
    margin: 0 auto;
    height: 60px;
    width: 200px;
    background-color: #F2C67F;
    border:none;
    color: white;
    font-size: 16px;
}

#spot_name{
    width: 30vw;
    min-width: 395px;
}

#todo_content{
    width: 34vw;
    min-width: 450px;
}

.submit_btn{
    display: block;
    border-radius: 100vh;
    margin: 0 auto;
    height: 7vh;
    width: 20vh;
    background-color: #F2C67F;
    border:none;
    color: white;
    font-size: 16px;
}

</style>
